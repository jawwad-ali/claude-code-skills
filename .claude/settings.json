{
  "PostToolUse": [
    {
      "matcher": "Write|Edit",
      "hooks": [
        {
          "type": "prompt",
          "prompt": "Analyze the code for production-grade quality. Check for issues in these categories:\n\n**Next.js Patterns:**\n- Server Components using React hooks (useState, useEffect, useContext, useReducer, useCallback, useMemo) or browser APIs (window, document, localStorage) without 'use client' directive at top of file\n- Wrong imports: 'next/router' should be 'next/navigation' for App Router\n- Server Actions files missing 'use server' directive\n- page.tsx files missing metadata export (for SEO)\n\n**Error Handling:**\n- Async operations (fetch, database calls, file operations) without try/catch blocks\n- Promises without .catch() or proper error handling\n- API route handlers not returning proper error responses with appropriate status codes (400, 404, 500)\n- fetch() calls not checking response.ok before parsing\n\n**Null Safety:**\n- Accessing nested properties without optional chaining (?.) where data could be undefined\n- Array methods (.map, .filter, .find) on potentially null/undefined arrays\n- Missing nullish coalescing (??) for default values on optional data\n- Destructuring without default values for optional properties\n\n**User Experience:**\n- Form submit handlers without loading/disabled state during submission\n- Arrays rendered with .map() without empty state fallback (check array.length)\n- Delete/destructive actions without confirmation pattern\n- Catch blocks with generic error messages instead of helpful user guidance\n- Missing loading.tsx for pages with async data fetching\n\n**Accessibility:**\n- <img> elements missing alt attribute\n- Buttons/interactive elements without accessible text or aria-label\n- Form inputs without associated <label> elements or aria-labelledby\n- onClick handlers on non-interactive elements (div, span) without role and keyboard support\n\nFormat issues found as:\n⚠️ ISSUE: [category] - [description] - Fix: [specific suggestion]\n\nIf all checks pass, respond with:\n✓ Code follows production-grade standards"
        }
      ]
    }
  ]
}
